<div class="page">
  <div class="widget" [class.alert]="latest > threshold">
    <div class="header">
      <h3>MarketWatch Service</h3>
      <span class="status" [class.active]="!paused"></span>
    </div>
    <div class="price-container">
      <h2 class="price">{{ latest | number:'1.2-2' }}</h2>
      <span class="trend" *ngIf="trend" [class.up]="trend==='up'" [class.down]="trend==='down'">
        {{ trend === 'up' ? '⬆' : '⬇' }}
      </span>
    </div>
    <div class="controls">
      <div class="input-group">
        <label>Threshold</label>
        <input type="number" [ngModel]="threshold" (ngModelChange)="onThresholdChange($event)" />
      </div>
      <button (click)="toggle()" [class.paused]="paused">{{ paused ? 'Resume' : 'Pause' }}</button>
    </div>
    <div class="chart-container"><canvas #chart></canvas></div>
  </div>
</div>